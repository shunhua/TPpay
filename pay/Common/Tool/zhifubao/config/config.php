<?php
class Config{
    private $cfg = array(
        'version'=>'2.0'		//版本号
       );
   
	// 随机轮训切换数组 
	public $RandomQuotes = array(
		array('appid'=>'2019010362704963','private'=>'MIIEogIBAAKCAQEAsHH1enFfGhl9n+BGMEwUSX26C3tuI4L+RBdCJZPWCTeQIhS7LdwvJ3YNcTuHDn84Rh10TdVYQf0QXwgNQnDmvUmUwqJtlfsOpD7bpslbUPrURtwSLt2G5U6XmxrI07P4fMlEi/WkNn2hPlptvytmO10QGXpJdbr8JOmaq4Y3GBCXkmT8A4w9jBuHV4eMrf+3TlMhZbYm/X4NicktQ8SkWz6yTYKf97EXddJU0V8Vyp++fNqClCf1wCH98nQvO1Z1qMAMHAUBjVhnvPB1Sv1ofCc4MAIhxVdSQZyNdgj2vZCxDvXvjH2l+yBg7wsq+3yz0ssAsHNrXaYX1S+VDwgRKQIDAQABAoIBACZBPujCJc1h03PTS0Rzaj6YzLpqk3GNmBUpOcUt7UzoSA6rkf2abHrQxI9VSa3h9VB2WF37sHv2IxOHimBqXAyUJHWig8HtwbnoivT5WRwQle+bDTIuA246APK29u23alubw4nYwzaxPEFpl7vH7A1Y2wG7Gqw00zApmcgwfEdyDRsX1oDHPFQc7noHIrwB/DIeo65hGyQmQo7BHMuITWDFESbjnCnAQPe4s//jsk2Jz4GXZhdDu2iivsF2bBQq0CmLOBC0l2vCeX4mgyRqK3ADIq1Gxtx+BAFXNKYVhB6h8/gYW/+2zgVQbunL/yDiHWKsu+CRrjkSnVF7kx28WQECgYEA44pit4U4VMZeb7S72J7M+xNbcMatFngiRxPl+B/OMoD0rdxmUsknrgXzdr1B/Cl+1YSYalNYgiA1UnjBr5zVnV0by3AuNl5teVCL0pWD4vLDhdq6C1X3hLTo5aKMItfhAPd2poGzpPG9NQKcrp8h5/DzKrguDrxYRNrcKOcgYQkCgYEAxoOM/Fx/PNUQ8x3gB9EQP19UDCDChQM7+x+KCGStVZnjpchaGRa/RN0KPSRsn2Gr6JDvD67p9c6fArVwBmRPpzq8Kvr+KHMc7Fu1ojSq1gzdiA70PDYZ6DCh5Ci0MITF2wr4OuXN4ebOGM27kBLAemVvb9PQIW52snSyk3+11yECgYBxH22wm5TD4NM2af4x1dFGyfrd+Ig48YTpHWVplDZpOV9ryHU+ly8Y/3BpCfJyMRcThBZaVhFcsDKSS+LPMgOpdo7I936iHRQECh1Zlme5PsQiGfoAhL7HxUE8WTGeaQE9/8mHQlhTmrNcVW4cCpVKwKnEBUkwnkasBLsLwsyAMQKBgC8QrXJ/s6MGmRgq8xynUoTT4ydk9Pl4RNZLKfzHcdkjvTdnAwWDwSFgjrbkVeSL0ag4BJXhUJL4w/Zucfrx+XiaklZWX7/TWv4m2C928TICpttFQF6uLQJB1YA0rlP6hrZiKWw9Y8y1XhO/Y0LLT1s1hXAr9eKXQAkbZeNWmhRBAoGAeUkctJOrrJZYVEkcwojgxJpNA5dUknyXLY1Te26DScNNv/9FcA1X/b0o7I9h+t/lrRlQr4VVgktTWNEiS3S5Q0D5NolCLSZw+DueuwK103WRAARgN3aMBbKlodhAc2WTXKtk2BrYaYN9T3hqa3d+Roxvm9g0lE1VYbh68SyBN4s=','public'=>'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAli1cqcOI9ZR3mVhC1j6yExWdLH7XlsDIXA1JNal7iIhA/Ql0avOzQDLS1NvxfNTX7zqU9fWHDXvEMlr85W0LgIKrIbBrlEF5Dfvqcfzcq4rYv9KXwalKNfPIKHuID3GShNBSPZGNCjBcuynzSdE0tGXPj6k+OdDSFp1qIXzv6OPYVG9Ppj+pAaqvqHqeHic0jUj/k1yZkpb8ki4ridARo71BQkC7+u9B9V11ObYOKyBolIyFsCPT44vJsXHIESxPi8SnDoxC/RKwz+iKsJAMwhsw2Oq5Qcn8vjowFBy4lWC7xusxR7y9bsuhBeoa0V7rwFhTqeLESavJBmp3Te4hMQIDAQAB'),
	);
	// 回调根据商户号查询密钥数组
	public $Randomnotify = array(
		array('appid'=>'2019010362704963','private'=>'MIIEogIBAAKCAQEAsHH1enFfGhl9n+BGMEwUSX26C3tuI4L+RBdCJZPWCTeQIhS7LdwvJ3YNcTuHDn84Rh10TdVYQf0QXwgNQnDmvUmUwqJtlfsOpD7bpslbUPrURtwSLt2G5U6XmxrI07P4fMlEi/WkNn2hPlptvytmO10QGXpJdbr8JOmaq4Y3GBCXkmT8A4w9jBuHV4eMrf+3TlMhZbYm/X4NicktQ8SkWz6yTYKf97EXddJU0V8Vyp++fNqClCf1wCH98nQvO1Z1qMAMHAUBjVhnvPB1Sv1ofCc4MAIhxVdSQZyNdgj2vZCxDvXvjH2l+yBg7wsq+3yz0ssAsHNrXaYX1S+VDwgRKQIDAQABAoIBACZBPujCJc1h03PTS0Rzaj6YzLpqk3GNmBUpOcUt7UzoSA6rkf2abHrQxI9VSa3h9VB2WF37sHv2IxOHimBqXAyUJHWig8HtwbnoivT5WRwQle+bDTIuA246APK29u23alubw4nYwzaxPEFpl7vH7A1Y2wG7Gqw00zApmcgwfEdyDRsX1oDHPFQc7noHIrwB/DIeo65hGyQmQo7BHMuITWDFESbjnCnAQPe4s//jsk2Jz4GXZhdDu2iivsF2bBQq0CmLOBC0l2vCeX4mgyRqK3ADIq1Gxtx+BAFXNKYVhB6h8/gYW/+2zgVQbunL/yDiHWKsu+CRrjkSnVF7kx28WQECgYEA44pit4U4VMZeb7S72J7M+xNbcMatFngiRxPl+B/OMoD0rdxmUsknrgXzdr1B/Cl+1YSYalNYgiA1UnjBr5zVnV0by3AuNl5teVCL0pWD4vLDhdq6C1X3hLTo5aKMItfhAPd2poGzpPG9NQKcrp8h5/DzKrguDrxYRNrcKOcgYQkCgYEAxoOM/Fx/PNUQ8x3gB9EQP19UDCDChQM7+x+KCGStVZnjpchaGRa/RN0KPSRsn2Gr6JDvD67p9c6fArVwBmRPpzq8Kvr+KHMc7Fu1ojSq1gzdiA70PDYZ6DCh5Ci0MITF2wr4OuXN4ebOGM27kBLAemVvb9PQIW52snSyk3+11yECgYBxH22wm5TD4NM2af4x1dFGyfrd+Ig48YTpHWVplDZpOV9ryHU+ly8Y/3BpCfJyMRcThBZaVhFcsDKSS+LPMgOpdo7I936iHRQECh1Zlme5PsQiGfoAhL7HxUE8WTGeaQE9/8mHQlhTmrNcVW4cCpVKwKnEBUkwnkasBLsLwsyAMQKBgC8QrXJ/s6MGmRgq8xynUoTT4ydk9Pl4RNZLKfzHcdkjvTdnAwWDwSFgjrbkVeSL0ag4BJXhUJL4w/Zucfrx+XiaklZWX7/TWv4m2C928TICpttFQF6uLQJB1YA0rlP6hrZiKWw9Y8y1XhO/Y0LLT1s1hXAr9eKXQAkbZeNWmhRBAoGAeUkctJOrrJZYVEkcwojgxJpNA5dUknyXLY1Te26DScNNv/9FcA1X/b0o7I9h+t/lrRlQr4VVgktTWNEiS3S5Q0D5NolCLSZw+DueuwK103WRAARgN3aMBbKlodhAc2WTXKtk2BrYaYN9T3hqa3d+Roxvm9g0lE1VYbh68SyBN4s=','public'=>'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAli1cqcOI9ZR3mVhC1j6yExWdLH7XlsDIXA1JNal7iIhA/Ql0avOzQDLS1NvxfNTX7zqU9fWHDXvEMlr85W0LgIKrIbBrlEF5Dfvqcfzcq4rYv9KXwalKNfPIKHuID3GShNBSPZGNCjBcuynzSdE0tGXPj6k+OdDSFp1qIXzv6OPYVG9Ppj+pAaqvqHqeHic0jUj/k1yZkpb8ki4ridARo71BQkC7+u9B9V11ObYOKyBolIyFsCPT44vJsXHIESxPi8SnDoxC/RKwz+iKsJAMwhsw2Oq5Qcn8vjowFBy4lWC7xusxR7y9bsuhBeoa0V7rwFhTqeLESavJBmp3Te4hMQIDAQAB'),
	);
	public function dataPollingInterval($list,$polling_time='5m',$polling_number=1) {
	    // 规划轮询间隔时间的参数:
	    $interval = false;
		// 判断$polling_time 的类型是 秒、分、小时、天 中的哪1种。
	    $arg = array( 
	        's'=>1,            // 秒
	        'm'=>60,            // 分= 60 sec
	        'h' =>3600,        // 时= 3600 sec
	        'd' => 86400,    // 天= 86400 sec
	    );

	    // 判断间隔时间的类型，并计算间隔时间
	    foreach ($arg as $k => $v) {
	        if (false!== stripos($polling_time,$k)) {
	            $interval = intval($polling_time)*$v;
	            break;
	        }
	    }
		  // 判断间隔时间
	    if(!is_int($interval)){  
	        return false;
	    }
		// 从今年开始的秒数
	    $this_year_begin_second = strtotime(date('Y-01-01 01:00:01', time()));
	    
	    // 当前秒数 - 今年开始的秒数，得到今年到目前为止的秒数。
	    $polling_time = time()-$this_year_begin_second;
		
	    // 从今年到目前为止的秒数，计算得到当前轮数
	    $len = count($list); // 总长度
	    $start_index = intval($polling_time/$interval);
	    $start_index = $polling_number*$start_index%$len; // 轮排数量 * 轮数 , 取余 总数量。
		$res = array();
	    // 将轮数 指向到数组的索引，然后从这个索引开始接着往下循环遍历。
	    for ($i=0; $i<$len; ++$i) {
	        $index=$i+$start_index; // 索引的变化是根据时间来变
	        if ($index>=$len) {
	            $index=$index-$len ;
	        }
	        $res[]=$list[$index]; // 存入结果
	    }
	    return $res[0];
	}  
	//查询二维数组是否存在某个值，存在就返回
	public function multidimensional_search($parents, $searched) {  
        if (empty($searched) || empty($parents)) {  
            return array('appid'=>'','private'=>'','public'=>'');  
        }  
        foreach ($parents as $key => $value) {   
            if($value['appid'] == $searched){ 
            	return $parents[$key];
            }  
        }  
       return array('appid'=>'','private'=>'','public'=>'');
    }
     // 随机时间
	// private $DayOfTheYear=date('i');// m、h、i、s  
	// // 随机轮训切换数组函数
	// public function RandomQuoteByInterval($TimeBase, $QuotesArray){
	// 	  // Make sure it is a integer
	// 	  $TimeBase = intval($TimeBase);
	// 	  // How many items are in the array?
	// 	  $ItemCount = count($QuotesArray);
	// 	  // By using the modulus operator we get a pseudo
	// 	  // random index position that is between zero and the
	// 	  // maximal value (ItemCount)
	// 	  $RandomIndexPos = ($TimeBase % $ItemCount);
	// 	  // Now return the random array element
	// 	  return $QuotesArray[$RandomIndexPos];
	// }
	
    
    public function C($cfgName){
        return $this->cfg[$cfgName];
    }

}
?>